parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"craX":[function(require,module,exports) {
var define;
var e;!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):(t="undefined"!=typeof globalThis?globalThis:t||self).contentfulExtension=n()}(this,function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function o(e){return this instanceof o?(this.v=e,this):new o(e)}var i=Object.freeze({__proto__:null,__extends:function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},get __assign(){return t},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}l((r=r.apply(e,t||[])).next())})},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},__exportStar:function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},__values:n,__read:r,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},__await:o,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||l(e,t)})})}function l(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(s,c):f(a[0][2],n)}catch(e){f(a[0][3],e)}var n}function s(e){l("next",e)}function c(e){l("throw",e)}function f(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:o(e[r](t)),done:"return"===r}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=n(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}}});function a(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var u=a(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._id=0,this._listeners={}}return e.prototype.dispatch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r in this._listeners)(e=this._listeners)[r].apply(e,t)},e.prototype.attach=function(e){var t=this;if("function"!=typeof e)throw new Error("listener function expected");var n=this._id++;return this._listeners[n]=e,function(){return delete t._listeners[n]}},e}();t.Signal=r;var o="__private__memoized__arguments__",a=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.call(this)||this;if(i[n]=[],!t.length)throw new Error("Initial value to be memoized expected");return i[o]=t,i}return i.__extends(t,e),t.prototype.dispatch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this[o]=t,e.prototype.dispatch.apply(this,t)},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return t.apply(void 0,this[o]),n},t}(r);t.MemoizedSignal=a,n=o}),l=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){!function(e,t){e.addEventListener("message",function n(r){var o=r.data;"connect"===o.method&&(e.removeEventListener("message",n),t.apply(void 0,o.params))})}(e,function(r,o){var i=new n(r.id,e);t(i,r,o)})};var n=function(){function e(e,t){var n=this;this._messageHandlers={},this._responseHandlers={},this._send=function(e,t){var n=0;return function(r,o){var i=n++;return t.postMessage({source:e,id:i,method:r,params:o},"*"),i}}(e,t.parent),t.addEventListener("message",function(e){n._handleMessage(e.data)})}return e.prototype.call=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._send(e,n);return new Promise(function(e,n){t._responseHandlers[o]={resolve:e,reject:n}})},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._send(e,t)},e.prototype.addHandler=function(e,t){return e in this._messageHandlers||(this._messageHandlers[e]=new u.Signal),this._messageHandlers[e].attach(t)},e.prototype._handleMessage=function(e){if(e.method){var t=e.method,n=e.params,r=this._messageHandlers[t];r&&r.dispatch.apply(r,n)}else{var o=e.id,i=this._responseHandlers[o];if(!i)return;"result"in e?i.resolve(e.result):"error"in e&&i.reject(e.error),delete this._responseHandlers[o]}},e}()}),s=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i.__importDefault(l);t.default=function(e,t){var r,o=((r={promise:null,resolve:null}).promise=new Promise(function(e){r.resolve=e}),r);return o.promise.then(function(t){var n=t[0],r=e.document;r.addEventListener("focus",function(){return n.send("setActive",!0)},!0),r.addEventListener("blur",function(){return n.send("setActive",!1)},!0)}),n.default(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.resolve(e)}),function(n,r){var i=(void 0===r?{}:r).makeCustomApi,a=void 0===i?null:i;o.promise.then(function(r){var o,i=r[0],u=r[1],l=r[2],s=t(i,u,e);"function"==typeof a&&(o=a(i,u)),l.forEach(function(e){i._handleMessage(e)}),n(s,o)})}}}),c=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["id","locale","type","required","validations","items"],r=function(){function e(e,t){var r=this;n.forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),this._value=t.value,this._valueSignal=new u.MemoizedSignal(this._value),this._isDisabledSignal=new u.MemoizedSignal(void 0),this._schemaErrorsChangedSignal=new u.MemoizedSignal(void 0),this._channel=e,e.addHandler("valueChanged",function(e,t,n){e!==r.id||t&&t!==r.locale||(r._value=n,r._valueSignal.dispatch(n))}),e.addHandler("isDisabledChangedForFieldLocale",function(e,t,n){e===r.id&&t===r.locale&&r._isDisabledSignal.dispatch(n)}),e.addHandler("schemaErrorsChangedForFieldLocale",function(e,t,n){e===r.id&&t===r.locale&&r._schemaErrorsChangedSignal.dispatch(n)})}return e.prototype.getValue=function(){return this._value},e.prototype.setValue=function(e){return this._value=e,this._valueSignal.dispatch(e),this._channel.call("setValue",this.id,this.locale,e)},e.prototype.removeValue=function(){return this._value=void 0,this._channel.call("removeValue",this.id,this.locale)},e.prototype.setInvalid=function(e){return this._channel.call("setInvalid",e,this.locale)},e.prototype.onValueChanged=function(e){return this._valueSignal.attach(e)},e.prototype.onIsDisabledChanged=function(e){return this._isDisabledSignal.attach(e)},e.prototype.onSchemaErrorsChanged=function(e){return this._schemaErrorsChangedSignal.attach(e)},e}();t.default=r}),f=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i.__importDefault(c),r=["id","locales","type","required","validations","items"],o=function(){function e(e,t,o){var u=this;r.forEach(function(e){void 0!==t[e]&&(u[e]=t[e])}),this._defaultLocale=o,this._fieldLocales=t.locales.reduce(function(r,o){var a,u=new n.default(e,{id:t.id,type:t.type,required:t.required,validations:t.validations,items:t.items,locale:o,value:t.values[o]});return i.__assign(i.__assign({},r),((a={})[o]=u,a))},{}),a(this,o)}return e.prototype.getValue=function(e){return this._getFieldLocale(e).getValue()},e.prototype.setValue=function(e,t){return this._getFieldLocale(t).setValue(e)},e.prototype.removeValue=function(e){return this.setValue(void 0,e)},e.prototype.onValueChanged=function(e,t){return t||(t=e,e=void 0),this._getFieldLocale(e).onValueChanged(t)},e.prototype.onIsDisabledChanged=function(e,t){return t||(t=e,e=void 0),this._getFieldLocale(e).onIsDisabledChanged(t)},e.prototype._getFieldLocale=function(e){return a(this,e=e||this._defaultLocale),this._fieldLocales[e]},e.prototype.getForLocale=function(e){if(!e)throw new Error("getForLocale must be passed a locale");return this._getFieldLocale(e)},e}();function a(e,t){if(!e._fieldLocales[t])throw new Error('Unknown locale "'+t+'" for field "'+e.id+'"')}t.default=o}),d=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.document,r=e.MutationObserver,o=function(){l.updateHeight()},i=new r(o),a=null,u=!1,l={startAutoResizer:function(){l.updateHeight(),u||(u=!0,i.observe(n.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),e.addEventListener("resize",o))},stopAutoResizer:function(){u&&(u=!1,i.disconnect(),e.removeEventListener("resize",o))},updateHeight:function(e){void 0===e&&(e=null),null===e&&(e=Math.ceil(n.documentElement.getBoundingClientRect().height)),e!==a&&(t.send("setHeight",e),a=e)}};return l}}),p=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=t.sys,a=new u.MemoizedSignal(o),l=t.metadata;return e.addHandler("sysChanged",function(e){o=e,a.dispatch(o)}),i.__assign({getSys:function(){return o},onSysChanged:function(e){return a.attach(e)},fields:n.reduce(function(e,t){return e[t.id]=r(t),e},{})},l?{metadata:l}:{})}}),_=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["getContentType","getEntry","getEntrySnapshots","getAsset","getEditorInterface","getPublishedEntries","getPublishedAssets","getContentTypes","getEntries","getEditorInterfaces","getAssets","createContentType","createEntry","createAsset","updateContentType","updateEntry","updateAsset","deleteContentType","deleteEntry","deleteAsset","publishEntry","publishAsset","unpublishEntry","unpublishAsset","archiveEntry","archiveAsset","unarchiveEntry","unarchiveAsset","createUpload","processAsset","waitUntilAssetProcessed","getUsers","getAllScheduledActions","getEntityScheduledActions"];t.default=function(e,t){var r={};return n.forEach(function(t){r[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call("callSpaceMethod",t,n)}}),r.getCachedContentTypes=function(){return i.__spreadArrays(t)},r}}),h=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return"object"!=typeof(t=e)||null===t||Array.isArray(t)?{}:e;var t};t.default=function(e,t){return{openAlert:r.bind(null,"alert"),openConfirm:r.bind(null,"confirm"),openPrompt:r.bind(null,"prompt"),openExtension:o,openCurrentApp:a,openCurrent:function(e){return t.app?a(e):o(i.__assign(i.__assign({},e),{id:t.extension}))},selectSingleEntry:u.bind(null,"Entry",!1),selectSingleAsset:u.bind(null,"Asset",!1),selectMultipleEntries:u.bind(null,"Entry",!0),selectMultipleAssets:u.bind(null,"Asset",!0)};function r(t,r){return e.call("openDialog",t,n(r))}function o(r){if(r=n(r),(r=i.__assign(i.__assign({},r),{id:r.id||t.extension})).id)return e.call("openDialog","extension",r);throw new Error("Extension ID not provided.")}function a(r){if(r=n(r),(r=i.__assign(i.__assign({},r),{id:t.app})).id)return e.call("openDialog","app",r);throw new Error("Not in the app context.")}function u(t,r,o){return(o=n(o)).entityType=t,o.multiple=r,e.call("openDialog","entitySelector",o)}}}),y=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new u.MemoizedSignal(void 0),r=new u.MemoizedSignal(void 0);return e.addHandler("localeSettingsChanged",function(e){n.dispatch(e)}),e.addHandler("showDisabledFieldsChanged",function(e){r.dispatch(e)}),{editorInterface:t,onLocaleSettingsChanged:function(e){return n.attach(e)},onShowDisabledFieldsChanged:function(e){return r.attach(e)}}}}),v=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new u.Signal;return e.addHandler("navigateSlideIn",function(e){n.dispatch(e)}),{openEntry:function(t,n){return e.call("navigateToContentEntity",i.__assign(i.__assign({},n),{entityType:"Entry",id:t}))},openNewEntry:function(t,n){return e.call("navigateToContentEntity",i.__assign(i.__assign({},n),{entityType:"Entry",id:null,contentTypeId:t}))},openBulkEditor:function(t,n){return e.call("navigateToBulkEditor",i.__assign({entryId:t},n))},openAsset:function(t,n){return e.call("navigateToContentEntity",i.__assign(i.__assign({},n),{entityType:"Asset",id:t}))},openNewAsset:function(t){return e.call("navigateToContentEntity",i.__assign(i.__assign({},t),{entityType:"Asset",id:null}))},openPageExtension:function(n){return e.call("navigateToPage",i.__assign({type:"extension",id:t.extension},n))},openCurrentAppPage:function(n){return e.call("navigateToPage",i.__assign({type:"app",id:t.app},n))},onSlideInNavigation:function(e){return n.attach(e)}}}}),g=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="preInstall",r="postInstall",o=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},i=function(e){return"function"==typeof e},a=function(e){return console.error(e),Promise.resolve(!1)},u=function(e,t,n){if(!i(e))return Promise.resolve(t);var r;try{r=void 0===n?e():e(n)}catch(e){return a(e)}var u,l=r;return o(u=l)&&i(u.then)||(l=Promise.resolve(l)),l.then(function(e){return e instanceof Error?Promise.reject(e):!1!==e&&(o(e)?e:t)},a).catch(a)};t.default=function(e){var t,o=((t={}).preInstall=null,t.postInstall=null,t),a=function(e,t){if(!i(t))throw new Error("Handler must be a function.");o[e]=t};return e.addHandler("appHook",function(t){var i=t.stage,a=t.installationRequestId,l=t.err;return i===n?u(o[i],{}).then(function(t){return e.send("appHookResult",{stage:i,installationRequestId:a,result:t})}):i===r?u(o[i],void 0,l||null).then(function(){return e.send("appHookResult",{stage:i,installationRequestId:a})}):Promise.resolve()}),{setReady:function(){return e.call("callAppMethod","setReady")},isInstalled:function(){return e.call("callAppMethod","isInstalled")},getParameters:function(){return e.call("callAppMethod","getParameters")},getCurrentState:function(){return e.call("callAppMethod","getCurrentState")},onConfigure:function(e){a(n,e)},onConfigurationCompleted:function(e){a(r,e)}}}}),m=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={LOCATION_ENTRY_FIELD:"entry-field",LOCATION_ENTRY_FIELD_SIDEBAR:"entry-field-sidebar",LOCATION_ENTRY_SIDEBAR:"entry-sidebar",LOCATION_DIALOG:"dialog",LOCATION_ENTRY_EDITOR:"entry-editor",LOCATION_PAGE:"page",LOCATION_APP_CONFIG:"app-config"}}),b=a(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0});var r=i.__importDefault(f),o=i.__importDefault(c),a=i.__importDefault(d),u=i.__importDefault(p),l=i.__importDefault(_),s=i.__importDefault(h),b=i.__importDefault(y),E=i.__importDefault(v),w=i.__importDefault(g),O=i.__importDefault(m),A=[C,T,function(e,t){var n=t.field;return{field:new o.default(e,n)}},P,S],I=((n={})[O.default.LOCATION_ENTRY_FIELD]=A,n[O.default.LOCATION_ENTRY_FIELD_SIDEBAR]=A,n[O.default.LOCATION_ENTRY_SIDEBAR]=[C,T,P,S],n[O.default.LOCATION_ENTRY_EDITOR]=[C,T,P],n[O.default.LOCATION_DIALOG]=[C,function(e){return{close:function(t){return e.send("closeDialog",t)}}},S],n[O.default.LOCATION_PAGE]=[C],n[O.default.LOCATION_APP_CONFIG]=[C,function(e){return{app:w.default(e)}}],n);function C(e,t){var n=t.user,r=t.parameters,o=t.locales,i=t.ids,a=t.initialContentTypes,u=t.location||O.default.LOCATION_ENTRY_FIELD;return{location:{is:function(e){return u===e}},user:n,parameters:r,locales:{available:o.available,default:o.default,names:o.names,fallbacks:o.fallbacks,optional:o.optional,direction:o.direction},space:l.default(e,a),dialogs:s.default(e,i),navigator:E.default(e,i),notifier:{success:function(t){return e.send("notify",{type:"success",message:t})},error:function(t){return e.send("notify",{type:"error",message:t})}},ids:i,access:{can:function(t,n){return e.call("checkAccess",t,n)}}}}function S(e,t,n){return{window:a.default(n,e)}}function P(e,t){var n=t.editorInterface;return{editor:b.default(e,n)}}function T(e,t){var n=t.locales,o=t.contentType,i=t.entry,a=t.fieldInfo;return{contentType:o,entry:u.default(e,i,a,function(t){return new r.default(e,t,n.default)})}}t.default=function(e,t,n){return(I[t.location]||A).reduce(function(r,o){return i.__assign(i.__assign({},r),o(e,t,n))},{})}}),E=i.__importDefault(s),w=i.__importDefault(b),O=i.__importDefault(m);return{init:E.default(window,w.default),locations:O.default}});
},{}],"UnXq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMockExtension=exports.clamp=exports.getInitialTableData=exports.useContentfulApi=exports.Intent=exports.DialogsAPI=void 0;const e=require("contentful-ui-extensions-sdk");var t;Object.defineProperty(exports,"DialogsAPI",{enumerable:!0,get:function(){return e.DialogsAPI}}),function(e){e.PRIMARY="primary",e.POSITIVE="positive",e.NEGATIVE="negative"}(t=exports.Intent||(exports.Intent={}));const r=()=>{},s=()=>{try{return window.self!==window.top}catch(e){return!0}};exports.useContentfulApi=(()=>s()),exports.getInitialTableData=(({rows:e,columns:t})=>Array.from(new Array(e),()=>new Array(t))),exports.clamp=((e,t,r)=>Math.min(Math.max(e,t),r));class o{constructor(){this.storageKeyName="mockContentfulData"}serialize(e){return JSON.stringify(e)}deserialize(e){return JSON.parse(e)}setValue(e){localStorage.setItem(this.storageKeyName,this.serialize(e)),this.onValueChanged()}getValue(){return this.deserialize(localStorage.getItem(this.storageKeyName))}onValueChanged(){return this.getValue}}exports.createMockExtension=(()=>({field:new o,window:{updateHeight:r,startAutoResizer:r}}));
},{"contentful-ui-extensions-sdk":"craX"}],"jltr":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,n,o,t){return new(o||(o=Promise))(function(c,r){function i(e){try{s(t.next(e))}catch(n){r(n)}}function u(e){try{s(t.throw(e))}catch(n){r(n)}}function s(e){var n;e.done?c(e.value):(n=e.value,n instanceof o?n:new o(function(e){e(n)})).then(i,u)}s((t=t.apply(e,n||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.minRows=exports.minColumns=void 0;const n=require("./utils");exports.minColumns=2,exports.minRows=2;const o=10,t=30,c=document.getElementById("columns-count"),r=document.getElementById("rows-count"),i=document.getElementById("use-column-header"),u=document.getElementById("use-row-header"),s=document.getElementById("add-column"),l=document.getElementById("remove-column"),m=document.getElementById("add-row"),d=document.getElementById("remove-row");c.min=exports.minColumns.toString(),c.max=10..toString(),r.min=exports.minRows.toString(),r.max=30..toString();const a=o=>{c.value=o.columns.toString(),r.value=o.rows.toString(),i.checked=o.useColumnHeader,u.checked=o.useRowHeader,i.onchange=function(e){const n=e.currentTarget.checked;void 0!==n&&o.setUseColumnHeader(n)},u.onchange=function(e){const n=e.currentTarget.checked;void 0!==n&&o.setUseRowHeader(n)},c.onchange=function(t){return e(this,void 0,void 0,function*(){const e=o.columns,r=n.clamp(parseInt(t.currentTarget.value,10),exports.minColumns,10);let i=!0;if(e<r){const n=r-e;for(let e=0;e<n;e++)o.addColumn()}else if(e>r){const n=e-r;for(let e=0;e<n;e++)i=yield o.removeColumn()}c.value=i?r.toString():e.toString()})},r.onchange=function(t){return e(this,void 0,void 0,function*(){const e=o.rows,c=n.clamp(parseInt(t.target.value,10),exports.minRows,30);let i=!0;if(e<c){const n=c-e;for(let e=0;e<n;e++)o.addRow()}else if(e>c){const n=e-c;for(let e=0;e<n;e++)i=yield o.removeRow()}r.value=i?c.toString():e.toString()})},s.onclick=function(e){const t=o.columns,r=n.clamp(t+1,exports.minColumns,10);o.addColumn(),c.value=r.toString()},l.onclick=function(t){return e(this,void 0,void 0,function*(){const e=o.columns,t=n.clamp(e-1,exports.minColumns,10);(yield o.removeColumn())&&(c.value=t.toString())})},m.onclick=function(e){const t=o.rows,c=n.clamp(t+1,exports.minRows,30);o.addRow(),r.value=c.toString()},d.onclick=function(t){return e(this,void 0,void 0,function*(){const e=o.rows,t=n.clamp(e-1,exports.minRows,30);(yield o.removeRow())&&(r.value=t.toString())})}};exports.default=a;
},{"./utils":"UnXq"}],"pP7K":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,s,a){return new(s||(s=Promise))(function(l,r){function o(t){try{h(a.next(t))}catch(e){r(e)}}function i(t){try{h(a.throw(t))}catch(e){r(e)}}function h(t){var e;t.done?l(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,i)}h((a=a.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./utils"),s=require("./event-handlers");class a{constructor({table:a,state:l,db:r,dialogs:o}){this.save=(()=>{this.db.setValue(this.state)}),this.valueChangeHandler=(t=>{this.state=Object.assign({},this.state,t)}),this.setUseColumnHeader=(t=>{this.state.useColumnHeader=t,this.save(),this.handleColumnHeaderStyle()}),this.handleColumnHeaderStyle=(()=>{const t=Array.from(this.table.rows[0].cells);this.state.useRowHeader&&t.shift(),this.state.useColumnHeader?t.forEach(t=>{this.changeTag(t,"th")}):t.forEach(t=>{this.changeTag(t,"td")})}),this.setUseRowHeader=(t=>{this.state.useRowHeader=t,this.save(),this.handleRowHeaderStyle()}),this.handleRowHeaderStyle=(()=>{const t=Array.from(this.table.rows);this.state.useRowHeader?t.forEach(t=>{const e=t.cells[0];this.changeTag(e,"th")}):t.forEach((t,e)=>{if(this.state.useColumnHeader&&0===e)return;const s=t.cells[0];this.changeTag(s,"td")})}),this.changeTag=((t,e)=>{const s=document.createElement(e);for(;t.firstChild;)s.appendChild(t.firstChild);for(let a=t.attributes.length-1;a>=0;--a)s.attributes.setNamedItem(t.attributes[a].cloneNode());t.parentNode.replaceChild(s,t)}),this.confirmDelete=(s=>t(this,void 0,void 0,function*(){return this.dialogs?this.dialogs.openConfirm({title:"Really delete?",message:s,intent:e.Intent.NEGATIVE}):window.confirm(s)})),this.autoGrow=(t=>{t.style.height="auto";const e=t.scrollHeight;t.style.height=`${e}px`;const s=t.dataset.row,a=document.querySelectorAll(`[data-row="${s}"]`);let l=e;a.forEach(t=>{const e=t.style.height;t.style.height="auto";const s=t.scrollHeight;s>l&&(l=s),t.style.height=e}),a.forEach(t=>{t.style.height=`${l}px`})}),this.addCell=((t,e,s)=>{const a=t.insertCell(),l=document.createElement("textarea");l.oninput=(()=>{this.autoGrow(l),this.state.tableData[e][s]=l.value||void 0,this.save()}),l.dataset.row=e.toString(),l.dataset.column=s.toString();const{tableData:r}=this.state,o=r&&r[e]&&r[e][s];l.value=o||"",a.appendChild(l),this.autoGrow(l)}),this.addRow=(()=>{const t=this.table.rows[this.table.rows.length-1];let e;if(t){const s=t.querySelector("textarea");e=parseInt(s.dataset.row,10)+1}else e=0;const s=this.table.insertRow(),a=this.state.tableData[0].length;for(let r=0;r<a;r++){const t=r;this.addCell(s,e,t)}const l=new Array(a);this.state.tableData[e]||(this.state.tableData.push(l),this.save()),this.handleRowHeaderStyle()}),this.removeRow=(()=>t(this,void 0,void 0,function*(){if(this.table.rows.length<=s.minRows)return;const t=this.table.rows.length-1;let e=!1,a="";const l=this.table.rows[t].cells;Array.from(l).forEach(t=>{const s=t.querySelector("textarea");s.value&&(e=!0,a+=`\n\n${s.value}`)});const r=!e||(yield this.confirmDelete(`Are you sure you want to delete row ${t+1}?${a}`));return r&&(this.table.deleteRow(t),this.state.tableData.splice(t,1),this.save()),r})),this.addColumn=(()=>{const t=this.table.rows[0].cells[this.table.rows[0].cells.length-1].querySelector("textarea"),e=parseInt(t.dataset.column,10)+1;Array.from(this.table.rows).forEach((t,s)=>{const a=t.cells[0].querySelector("textarea"),l=parseInt(a.dataset.row,10);this.addCell(t,l,e),this.state.tableData[s].push(void 0),this.save()}),this.handleColumnHeaderStyle()}),this.removeColumn=(()=>t(this,void 0,void 0,function*(){if(this.table.rows[0].cells.length<=s.minColumns)return;const t=this.table.rows[0].cells[this.table.rows[0].cells.length-1].querySelector("textarea"),e=parseInt(t.dataset.column,10)+1;let a=!1,l="";Array.from(this.table.rows).forEach(t=>{const e=t.cells[t.cells.length-1].querySelector("textarea");e.value&&(a=!0,l+=`\n\n${e.value}`)});const r=!a||(yield this.confirmDelete(`Are you sure you want to delete column ${e}?${l}`));return r&&Array.from(this.table.rows).forEach((t,e)=>{const s=t.cells.length-1;t.deleteCell(s),this.state.tableData[e].splice(s,1),this.save()}),r})),this.table=a,this.state=l,this.db=r,this.dialogs=o;for(let t=0;t<this.state.tableData.length;t++)this.addRow();this.handleColumnHeaderStyle(),this.handleRowHeaderStyle(),this.detachValueChangeHandler=this.db.onValueChanged(this.valueChangeHandler)}get currentState(){return this.state}get columns(){return this.state.tableData[0].length}get rows(){return this.state.tableData.length}get useColumnHeader(){return this.state.useColumnHeader}get useRowHeader(){return this.state.useRowHeader}}exports.default=a;
},{"./utils":"UnXq","./event-handlers":"jltr"}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var i in n)"default"!==i&&Object.prototype.hasOwnProperty.call(n,i)&&e(r,n,i);return t(r,n),r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const i=require("contentful-ui-extensions-sdk"),a=r(require("./table-controller")),o=n(require("./event-handlers")),l=require("./utils"),u=document.getElementById("table-extension-content"),s=u.querySelector("table"),d=e=>{let t=e.field.getValue();t&&t.tableData&&!Array.isArray(t.tableData)&&!Array.isArray(t.tableData[0])&&(t=void 0),t||(t={useColumnHeader:!0,useRowHeader:!1,tableData:l.getInitialTableData({columns:o.minColumns,rows:o.minRows})});const n=new a.default({table:s,state:t,db:e.field,dialogs:e.dialogs});o.default(n),e.window.updateHeight(),e.window.startAutoResizer()};if(l.useContentfulApi())try{i.init(d)}catch(c){console.error(c),u.innerHTML="\n      <div>\n        <h1>\n          Error\n        </h1>\n        <p>\n          We encountered an error with the Table Contentful UI Extension.\n        </p>\n      </div>\n    "}else{d(l.createMockExtension())}
},{"contentful-ui-extensions-sdk":"craX","./table-controller":"pP7K","./event-handlers":"jltr","./utils":"UnXq"}]},{},["QCba"], null)
//# sourceMappingURL=src.3573ab60.js.map